#! /bin/sh
#
# file68-config for @PACKAGE_STRING@
#
# Copyright (C) 2007-2009 Benjamin Gerard
#
# Report bugs to <@PACKAGE_BUGREPORT@>
#
# $Id$
#

pkgname="@PACKAGE@"
pkgdir="sc68"
prefix="@prefix@"
exec_prefix="@exec_prefix@"
libdir="@libdir@"
includedir="@includedir@"
pkgincludedir="${includedir}/${pkgdir}"
datarootdir="@datarootdir@"
datadir="@datadir@"
pkgdatadir="${datadir}/${pkgdir}"
cppflags="-I${includedir} @PACKAGE_EFLAGS@"
cflags="${cppflags} @PACKAGE_CFLAGS@"
ldflags="-L${libdir} @PACKAGE_LFLAGS@"
me="${pkgname}-config"

filter_only()
{
    local i what="" set_what=no
    for i in : "$@"; do
	if [ "x${set_what}" = 'xyes' ]; then
	    what="$i"
	    set_what=no
	else
	    case "$i" in
		':') set -- ;;
		'--') set_what=yes  ;;
		$what*) set -- "$@" "$i" ;;
	    esac
	fi
    done
    echo "$@"
}

while test $# -ge 1; do
    case "$1" in
	--help | --usage | -?)
	    cat <<EOF
Usage: ${me} [OPTION...]

Options:
  --exists            check module existence (pkg-config compatibility)
  --help              output this message and exit
  --version           output version and exit
  --modversion        output version and exit (pkg-config compatibility)
  --datadir           output data directory
  --pkgdatadir        output data package directory
  --includedir        output include directory
  --pkgincludedir     output include package directory
  --libs              link flags (-L & -l)
  --libs-only-L       link flags (-L only)
  --libs-only-l       link flags (-l only)
  --cflags            pre-processor and compile flags

Please report bugs to <@PACKAGE_BUGREPORT@>.
EOF
	    exit 1
	    ;;
	--exists)
	    test "x$2" = "x${pkgname}"; exit $?;;
	--package)
	    echo "${pkgname}";;
	--version | --modversion)
	    echo "@VERSION@";;
	--datadir)
	    echo "${datadir}";;
	--pkgdatadir)
	    echo "${pkgdatadir}";;
	--includedir)
	    echo "${includedir}";;
	--pkgincludedir)
	    echo "${pkgincludedir}";;

	# Linker
	--libs-only-L | --libs-only-other)
	    filter_only -- '-L' ${ldflags} ;;
	--libs-only-l)
	    filter_only -- '-l' ${ldflags} ;;
	--libs)
	    echo ${ldflags} ;;

	# compiler
	--cflags-only-I)
	    filter_only -- '-I' ${cflags} ;;
	--cflags-only-other)
	    filter_only -- '-D' ${cflags} -- '-U' ${cflags} ;;
	--cflags)
	    echo ${cflags} ;;
	--cppflags)
	    filter_only -- '-D' ${cflags} -- '-U' ${cflags} -- '-I' ${cflags} ;;

	# For pkg-config compatibility

	--list-all)
	    printf '%-27s %s\n' "${pkgname}" "@PACKAGE_DESC@"
	    exit 0
	    ;;

	--errors-to-stdout) exec 1<&2;;
	--silence-errors) exec 2>/dev/null;;
	--print-errors);;
	--short-errors);;
	--debug);;
	--atleast-version=*);;
	--max-version=*);;
	--exact-version=@VERSION@);;
	--exact-version=*) exit 255;;
	--atleast-pkgconfig-version=*);;
	--variable=*);;
	--define-variable=*);;
	--uninstalled);;

	--*)
	    echo "${me}: unknown option \`$1'" 1>&2
	    exit 255
	    ;;
	*)
	    echo "${me}: invalid argument \`$1'" 1>&2
	    exit 255
	    ;;
    esac
    shift
done
exit 0
